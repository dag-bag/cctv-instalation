export const CITIES = [
  'Delhi',
  'Gurgaon',
  'Noida',
  'Greater Noida',
  'Ghaziabad',
  'Faridabad'
];

import localitiesData from '../data/localities.json';

export const LOCALITIES: Record<string, string[]> = localitiesData;
export const SERVICES = [
  "Residential CCTV Installation",
  "Commercial CCTV Installation",
  "Industrial CCTV Installation",
  "Dome Camera Installation",
  "Bullet Camera Installation",
  "PTZ Camera Installation",
  "IP Camera Installation",
  "CCTV Camera Installation",
  "CCTV Repair",
  "Biometric Installation",
  "Video Door Phone Installation",
  "Access Control System",
  "Intercom System Installation",
  "Security Alarm System",
  "Fire Alarm System",
  "Electric Fence Installation",
  "Electrical Wiring for CCTV",
  "Power Supply Installation",
  "Inverter Connection for CCTV",
  "Smart Home Automation",
  "Video Door Phone Wiring",
  "MCB Box Installation",
  "Earthing for CCTV",
  "Analog Camera Installation",
  "Wireless Camera Installation",
  "Hidden Camera Installation",
  "Night Vision Camera Installation",
  "License Plate Recognition Camera",
  "Fisheye Camera Installation",
  "Smart Home Camera Installation",

  "CCTV Camera Repair",
  "CCTV General Troubleshooting",
  "CCTV Cable Repair",
  "CCTV Power Supply Repair",
  "CCTV Maintenance Contract",
  "CCTV Relocation Service",
  "CCTV Password Reset",
  "CCTV Online Configuration",

  "Hikvision Camera Installation",
  "CP Plus Camera Installation",
  "Dahua Camera Installation",
  "Honeywell CCTV Installation",
  "Bosch Security System",
  "Panasonic CCTV Camera",
  "Samsung CCTV Camera",
  "Sony CCTV Camera",
  "Godrej CCTV Camera",
  "Zicom Security System",
  "Hikvision DVR Repair",
  "CP Plus DVR Repair",
  "Dahua NVR Configuration",

  "WiFi Camera Installation",
  "Wireless CCTV Camera",
  "4G Sim Camera Installation",
  "Solar CCTV Camera",
  "Night Vision Camera",
  "360 Degree Camera",
  "Spy Camera Installation",
  "Cloud CCTV Storage",
  "Motion Sensor Camera",
  "Face Recognition Camera",
  "Number Plate Recognition",
  "Thermal Camera Installation",

  "Home Security System",
  "Office CCTV Installation",
  "Shop CCTV Camera",
  "Warehouse Security System",
  "Factory CCTV Installation",
  "School CCTV Installation",
  "Hospital Security System",
  "Hotel CCTV Installation",
  "Apartment CCTV System",
  "Building Intercom System",
  "Society Gate Security",
  "Parking Lot Camera",
  "Elevator CCTV Camera",
  "Tiandy Camera Installation",
  "Uniview Camera Installation",
  "Ezviz Camera Installation",

  "CCTV Camera Not Working",
  "CCTV No Signal Fix",
  "CCTV Blur Image Fix",
  "CCTV Recording Issue",
  "CCTV Mobile View Setup",
  "DVR Hard Disk Replacement",
  "CCTV Camera Shifting",
  "CCTV AMC Service",
  "CCTV Maintenance Service",

  "Digital Door Lock Installation",
  "Biometric Lock Installation",
  "Smart Lock Installation",
  "Face Recognition Lock",
  "Access Control System Installation",
  "Mechanical Lock Installation",
  "Electric Lock Installation",
  "Glass Door Lock Installation",
  "Furniture Lock Installation",
  "Panic Bar Installation",
  "Automatic Door Opener",
  "Emergency Lockout Service",
  "Door Lock Repair",
  "Key Duplication Service",
  "Lock Cylinder Replacement",
  "Digital Lock Battery Replacement",
  "Door Closer Installation",
  "Intercom Repair",

  "2MP CCTV Camera",
  "5MP CCTV Camera",
  "8MP 4K CCTV Camera",
  "HD CCTV Camera",
  "Full HD CCTV Camera",
  "Color Night Vision Camera",
  "StarLight Camera Installation",

  "Yale Digital Lock",
  "Godrej Digital Lock",
  "Samsung Smart Lock",
  "Dorset Lock Installation",
  "Harrison Lock Installation",
  "Europa Lock Installation",
  "Ozone Lock Installation",
  "Schlage Lock Installation",

  "DVR Configuration",
  "NVR Configuration",
  "CCTV Remote View Setup",
  "DVR HDD Installation",
  "DVR Firmware Update",
  "DVR Board Repair",
  "DVR Password Recovery",
  "CCTV Recording Issue Fix",
  "CCTV Connectivity Fix",
  "4 Channel DVR Setup",
  "8 Channel DVR Setup",
  "16 Channel DVR Setup",
  "32 Channel DVR Setup",
  "4 Channel NVR Setup",
  "8 Channel NVR Setup",
  "16 Channel NVR Setup",
  "32 Channel NVR Setup",
  "PoE NVR Setup",
  "WiFi NVR Setup",
  "4K NVR Configuration",
  "Mobile DVR Installation",

  "Hikvision IP Camera",
  "Hikvision Analog Camera",
  "Hikvision WiFi Camera",
  "CP Plus IP Camera",
  "CP Plus Analog Camera",
  "CP Plus WiFi Camera",
  "Dahua IP Camera",
  "Dahua Analog Camera",
  "Godrej Video Door Phone",
  "Panasonic Video Door Phone",

  "Smart Door Lock Installation",
  "Fingerprint Door Lock",
  "Digital Door Lock",
  "WiFi Video Doorbell",
  "Smart Video Doorbell",
  "Automatic Gate System",
  "Boom Barrier Installation",
  "RFID Attendance System",
  "Face Attendance Machine",
  "Hotel Card Lock System",
  "Glass Door Biometric Lock",
  "Wooden Door Biometric Lock",

  "Wireless Security System",
  "Home Automation System",
  "Office Automation System",
  "Biometric Attendance System",
  "Access Control Repair",
  "Video Door Phone Repair",
  "Fire Alarm Repair",

  "Outdoor CCTV Installation",
  "Indoor CCTV Installation",
  "Lift CCTV Installation",
  "Staircase CCTV Camera",
  "Parking CCTV Camera",
  "Basement CCTV Camera",
  "Terrace CCTV Camera",
  "Boundary Wall Security",
  "Main Gate Security Camera",

  "CCTV Installation Service",
  "Security Camera Service",
  "CCTV Mechanic",
  "CCTV Technician",
  "Home Security Cameras",
  "Wireless CCTV",
  "Surveillance System",
  "Locksmith",
  "Key Maker",
  "Emergency Locksmith",
  "Video Door Phone",
  "DVR Repair",
  "CCTV Recording Setup",
  "Surveillance Storage"
];

// export const SERVICES = [
//   // --- CCTV Installation Services ---
//   'Residential CCTV Installation',
//   'Commercial CCTV Installation',
//   'Industrial CCTV Installation',
//   'Dome Camera Installation',
//   'Bullet Camera Installation',
//   'PTZ Camera Installation',
//   'IP Camera Installation',
//   'Analog Camera Installation',
//   'Wireless Camera Installation',
//   'Hidden Camera Installation',
//   'Night Vision Camera Installation',
//   'License Plate Recognition Camera',
//   'Fisheye Camera Installation',
//   'Smart Home Camera Installation',

//   // --- CCTV Repair & Maintenance ---
//   'CCTV Camera Repair',
//   'CCTV General Troubleshooting',
//   'CCTV Cable Repair',
//   'CCTV Power Supply Repair',
//   'CCTV Maintenance Contract',
//   'CCTV Relocation Service',
//   'CCTV Password Reset',
//   'CCTV Online Configuration',

//   // --- Brand Specific CCTV ---
//   'Hikvision Camera Installation',
//   'CP Plus Camera Installation',
//   'Dahua Camera Installation',
//   'Honeywell CCTV Installation',
//   'Panasonic CCTV Camera',
//   'Samsung CCTV Camera',
//   'Bosch Security System',
//   'Godrej CCTV Camera',
//   'Sony CCTV Camera',
//   'Tiandy Camera Installation',
//   'Uniview Camera Installation',
//   'Ezviz Camera Installation',

//   // --- Door Lock & Locksmith Services ---
//   'Digital Door Lock Installation',
//   'Biometric Lock Installation',
//   'Smart Lock Installation',
//   'Face Recognition Lock',
//   'Video Door Phone Installation',
//   'Access Control System Installation',
//   'Mechanical Lock Installation',
//   'Electric Lock Installation',
//   'Glass Door Lock Installation',
//   'Furniture Lock Installation',
//   'Panic Bar Installation',
//   'Automatic Door Opener',
//   'Emergency Lockout Service',
//   'Door Lock Repair',
//   'Key Duplication Service',
//   'Lock Cylinder Replacement',
//   'Digital Lock Battery Replacement',
//   'Door Closer Installation',
//   'Intercom Repair',

//   // --- Brand Specific Locks ---
//   'Yale Digital Lock',
//   'Godrej Digital Lock',
//   'Samsung Smart Lock',
//   'Dorset Lock Installation',
//   'Harrison Lock Installation',
//   'Europa Lock Installation',
//   'Ozone Lock Installation',
//   'Schlage Lock Installation',

//   // --- DVR/NVR Services ---
//   'DVR Configuration',
//   'NVR Configuration',
//   'CCTV Remote View Setup',
//   'DVR HDD Installation',
//   'DVR Firmware Update',
//   'DVR Board Repair',
//   'DVR Password Recovery',
//   'CCTV Recording Issue Fix',
//   'CCTV Connectivity Fix',
//   '4 Channel DVR Setup',
//   '8 Channel DVR Setup',
//   '16 Channel DVR Setup',
//   '32 Channel DVR Setup',
//   'PoE NVR Setup',
//   'WiFi NVR Setup',
//   '4K NVR Configuration',
//   'Mobile DVR Installation',

//   // --- SEO Keywords as Services ---
//   'CCTV Installation Service',
//   'Security Camera Service',
//   'CCTV Mechanic',
//   'CCTV Technician',
//   'Home Security Cameras',
//   'Wireless CCTV',
//   'Surveillance System',
//   'Locksmith',
//   'Key Maker',
//   'Emergency Locksmith',
//   'Video Door Phone',
//   'Access Control System',
//   'DVR Repair',
//   'CCTV Recording Setup',
//   'Surveillance Storage'
// ];

// Helper to create a slug from text
export function createSlug(text: string): string {
  return text
    .toLowerCase()
    .replace(/[^a-z0-9]+/g, '-') // Replace non-alphanumeric chars with hyphens
    .replace(/^-+|-+$/g, ''); // Remove leading/trailing hyphens
}

// Helper to parse a flat slug into components
// Slug format: [service-slug]-in-[locality-slug]-[city-slug]
// Example: ip-camera-installation-in-dwarka-delhi
export function parseSlug(slug: string) {
  if (!slug.includes('-in-')) return null;

  const parts = slug.split('-in-');
  if (parts.length !== 2) return null;

  const serviceSlug = parts[0];
  const locationSlug = parts[1];

  // Find Service
  const service = SERVICES.find(s => createSlug(s) === serviceSlug);
  if (!service) return null;

  // Find City (check end of location slug)
  const city = CITIES.find(c => locationSlug.endsWith(createSlug(c)));
  if (!city) return null;

  // Extract Locality
  const citySlug = createSlug(city);
  // locality-slug-city-slug -> remove -city-slug from end
  const localitySlug = locationSlug.slice(0, -(citySlug.length + 1)); // +1 for the hyphen
  
  const locality = LOCALITIES[city]?.find(l => createSlug(l) === localitySlug);
  
  if (!locality) return null;

  return {
    service,
    city,
    locality
  };
}

// Helper to find service by slug (exact or partial match)
export function getServiceBySlug(slug: string): string | null {
  return SERVICES.find(s => createSlug(s) === slug) || null;
}

// Helper to find location (city or locality) by slug
export function findLocation(slug: string): { city: string; locality?: string } | null {
  // Check cities
  const city = CITIES.find(c => createSlug(c) === slug);
  if (city) return { city };

  // Check localities
  for (const [c, localities] of Object.entries(LOCALITIES)) {
    const locality = localities.find(l => createSlug(l) === slug);
    if (locality) {
      return { city: c, locality };
    }
  }

  return null;
}

export interface ServiceContent {
  description: string;
  benefits: string[];
  faqs: { question: string; answer: string }[];
}

export const SERVICE_CONTENT: Record<string, ServiceContent> = {
  'IP Camera Installation': {
    description: "Upgrade your security with high-definition IP Camera Installation. Unlike traditional analog cameras, IP cameras offer superior image quality, remote access via smartphone, and advanced features like motion detection and night vision. Perfect for modern homes and businesses requiring crystal-clear surveillance.",
    benefits: [
      "Full HD / 4K Resolution Clarity",
      "Remote Access via Mobile App",
      "Power over Ethernet (PoE) Support",
      "Advanced Motion Detection",
      "Cloud Storage Options"
    ],
    faqs: [
      { question: "What is the difference between IP and Analog cameras?", answer: "IP cameras send digital signals via network cables, offering much higher resolution and smart features compared to analog cameras which use coaxial cables." },
      { question: "Do I need internet for IP cameras?", answer: "Internet is required for remote viewing on your phone, but the cameras can record to a local NVR without internet." }
    ]
  },
  'CCTV Camera Installation': {
    description: "Professional CCTV Camera Installation services for comprehensive security. We install a wide range of cameras including Dome, Bullet, and PTZ types to cover every blind spot of your property. Our expert technicians ensure neat wiring and optimal camera positioning.",
    benefits: [
      "24/7 Surveillance & Recording",
      "Deterrence of Criminal Activity",
      "Evidence for Legal Purposes",
      "Remote Monitoring Capability",
      "Low Maintenance Requirements"
    ],
    faqs: [
      { question: "How long does installation take?", answer: "For a standard 4-camera setup, installation typically takes 4-6 hours depending on the wiring complexity." },
      { question: "What happens during a power cut?", answer: "Standard systems turn off, but we can install a CCTV power supply with battery backup to keep them running." }
    ]
  },
  'CCTV Repair': {
    description: "Fast and reliable CCTV Repair services to get your security system back online. Whether it's a blurry image, connection loss, hard drive failure, or wiring issue, our technicians can diagnose and fix it quickly.",
    benefits: [
      "Quick Diagnosis & Troubleshooting",
      "Replacement of Faulty Parts",
      "Wiring Repair & Re-routing",
      "DVR/NVR Configuration Fixes",
      "Camera Lens Cleaning & Focusing"
    ],
    faqs: [
      { question: "Why is my CCTV camera showing 'No Signal'?", answer: "This is usually due to a loose BNC connector, damaged power supply, or a cut in the cable. We can trace and fix this easily." },
      { question: "Do you repair old analog systems?", answer: "Yes, we repair all types of CCTV systems, including older analog, HD-TVI, and modern IP systems." }
    ]
  },
  'Biometric Installation': {
    description: "Secure your premises with advanced Biometric Installation services. Control access to your office or secure areas using fingerprint, face recognition, or card readers. Ideal for tracking employee attendance and preventing unauthorized entry.",
    benefits: [
      "Accurate Attendance Tracking",
      "Prevent Unauthorized Access",
      "Touchless Face Recognition Options",
      "Integration with Payroll Systems",
      "Detailed Entry/Exit Logs"
    ],
    faqs: [
      { question: "Can this system track employee attendance?", answer: "Yes, most biometric systems come with software to generate detailed attendance reports for payroll." },
      { question: "What if a fingerprint doesn't work?", answer: "Modern systems also support PIN codes or RFID cards as backup methods." }
    ]
  },
  'Video Door Phone Installation': {
    description: "Enhance your home safety with Video Door Phone Installation. See and speak to visitors at your gate before opening the door. Modern systems allow you to unlock electronic locks directly from the indoor screen.",
    benefits: [
      "Visual Verification of Visitors",
      "Two-Way Audio Communication",
      "Remote Door Unlocking",
      "Night Vision Capability",
      "Photo Capture of Visitors"
    ],
    faqs: [
      { question: "Can I see visitors on my phone?", answer: "Yes, IP-based Video Door Phones connect to WiFi and ring on your smartphone app as well as the indoor screen." },
      { question: "Does it work at night?", answer: "Yes, the outdoor unit has infrared LEDs for clear night vision." }
    ]
  },
  'Digital Door Lock Installation': {
    description: "Upgrade your home security with our advanced Digital Door Lock Installation services. We offer a wide range of keyless entry solutions including fingerprint locks, RFID card locks, and smart app-controlled locks. Say goodbye to lost keys and enjoy the convenience of modern security.",
    benefits: [
      "Keyless Entry Convenience",
      "Multiple Access Methods (Fingerprint, PIN, Card)",
      "Remote Access via Mobile App",
      "Auto-Locking Feature",
      "Emergency Battery Backup"
    ],
    faqs: [
      { question: "What happens if the battery dies?", answer: "Most digital locks have an emergency power terminal where you can use a 9V battery to power it up temporarily." },
      { question: "Can I still use a mechanical key?", answer: "Yes, almost all our digital locks come with a mechanical override key for emergencies." }
    ]
  },
  'DVR/NVR Setup': {
    description: "Professional DVR and NVR Setup services to ensure your CCTV system records perfectly. We configure recording schedules, motion detection, and remote viewing on your smartphone. Whether it's a 4-channel home setup or a 32-channel commercial system, we handle it all.",
    benefits: [
      "Optimized Recording Schedules",
      "Remote View Configuration",
      "Motion Detection Alerts",
      "HDD Health Monitoring",
      "Network Security Setup"
    ],
    faqs: [
      { question: "Can I view recordings on my phone?", answer: "Yes, we configure the system so you can view live footage and playback recordings from anywhere using a mobile app." },
      { question: "How many days of recording will I get?", answer: "This depends on the hard disk size and number of cameras. We can help you calculate the storage needed for your requirements." }
    ]
  },
  'Access Control System Installation': {
    description: "Secure your business premises with our Access Control System Installation. We install electromagnetic locks (EM locks), biometric readers, and controller boards to manage employee access efficiently.",
    benefits: [
      "Restricted Unauthorized Entry",
      "Employee Attendance Tracking",
      "Time-Zone Based Access",
      "Integration with Fire Alarm",
      "Centralized Management"
    ],
    faqs: [
      { question: "Can this integrate with payroll?", answer: "Yes, our biometric access control systems can export data compatible with most payroll software." },
      { question: "What happens during a fire?", answer: "We integrate the system with your fire alarm to automatically unlock all doors in case of an emergency." }
    ]
  },
  // Default fallback for others
  'default': {
    description: "Expert installation and maintenance services tailored to your specific security needs. We use high-quality equipment and follow industry best practices to ensure a reliable and long-lasting setup.",
    benefits: [
      "Professional Installation",
      "High-Quality Components",
      "Warranty on Products & Labor",
      "Timely Service Delivery",
      "Competitive Pricing"
    ],
    faqs: [
      { question: "Do you provide a warranty?", answer: "Yes, we provide a 1-year warranty on installation and standard manufacturer warranty on all products." },
      { question: "How can I book a service?", answer: "You can call us directly or fill out the booking form on this page to schedule a visit." }
    ]
  }
};

export function getServiceContent(serviceName: string): ServiceContent {
  if (SERVICE_CONTENT[serviceName]) {
    return SERVICE_CONTENT[serviceName];
  }

  const lower = serviceName.toLowerCase();

  // Smart Fallback Logic
  if (lower.includes('lock') || lower.includes('key') || lower.includes('access control')) {
    return SERVICE_CONTENT['Digital Door Lock Installation'];
  }
  
  if (lower.includes('dvr') || lower.includes('nvr') || lower.includes('recording')) {
    return SERVICE_CONTENT['DVR/NVR Setup'];
  }

  if (lower.includes('repair') || lower.includes('fix') || lower.includes('troubleshooting')) {
    return SERVICE_CONTENT['CCTV Repair'];
  }

  if (lower.includes('cctv') || lower.includes('camera') || lower.includes('surveillance')) {
    return SERVICE_CONTENT['CCTV Camera Installation'];
  }

  return SERVICE_CONTENT['default'];
}
